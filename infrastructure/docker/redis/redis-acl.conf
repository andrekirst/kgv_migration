# Redis ACL Configuration for KGV Migration
# This file defines user permissions and access control

# Default user (disabled for security)
user default on nopass ~* &* +@all

# Application user with restricted permissions
# Password will be set via environment variable
user kgv_app on ~kgv:* ~session:* ~cache:* -@all +get +set +del +exists +expire +ttl +ping +info +client +config|get

# Read-only monitoring user
user monitoring on ~* -@all +ping +info +config|get +client|list +client|getname

# Admin user with full access (for maintenance)
user admin on ~* &* +@all

# Backup user for replication
user backup on ~* -@all +psync +replconf +ping

# Rules:
# ~pattern : Key pattern access
# +command : Allow command
# -command : Deny command
# +@category : Allow command category
# -@all : Deny all commands (start with explicit deny)